<!DOCTYPE HTML>
<html>

<head>
	<title>P'oloc playz</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="My Play Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
	<script
		type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
	<!-- bootstrap -->
	<link href="css/bootstrap.min.css" rel='stylesheet' type='text/css' media="all" />
	<!-- //bootstrap -->
	<link href="css/dashboard.css" rel="stylesheet">
	<!-- Custom Theme files -->
	<link href="css/style.css" rel='stylesheet' type='text/css' media="all" />
	<script src="js/jquery-1.11.1.min.js"></script>
	<!--start-smoth-scrolling-->
	<!-- fonts -->
	<link
		href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
		rel='stylesheet' type='text/css'>
	<link href='//fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'>
	<!-- //fonts -->
</head>

<body>
<script>
window.onload = function(e){ 
   if(!chck())
	{
		document.getElementById('signup').style.visibility = '';
		document.getElementById('login').style.visibility = '';
		document.getElementById('logout').style.visibility = 'hidden';
		document.getElementById('playlistm').style.visibility = 'hidden';
	}
	else
	{
		document.getElementById('signup').style.visibility = 'hidden';
		document.getElementById('login').style.visibility = 'hidden';
		document.getElementById('logout').style.visibility = '';
		document.getElementById('playlistm').style.visibility = '';
	}
	
}	
</script>
</script>
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
					aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="index.html">
					<h1><img src="images/logo.png" alt="" class="logo" /></h1>
				</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<div class="top-search">
					<form class="navbar-form navbar-right" onsubmit="getAll(); return false;">
						<input type="text" id="film" class="form-control" placeholder="Search...">
						<input type="submit" value="">
					</form>
				</div>
				<div class="header-top-right">
					<div class="signin" id="signup" style="visibility : hidden">
						<a href="#small-dialog3" class="play-icon popup-with-zoom-anim">Sign Up</a>
						<!-- pop-up-box -->
						<script type="text/javascript" src="js/modernizr.custom.min.js"></script>
						<link href="css/popuo-box.css" rel="stylesheet" type="text/css" media="all" />
						<script src="js/jquery.magnific-popup.js" type="text/javascript"></script>
						<!--//pop-up-box -->
						<div id="small-dialog3" class="mfp-hide">
							<h3>Create Account</h3>
							<div class="signup">
								<form onsubmit="signup(); return false">
									<input type="text" id="email" class="email" placeholder="Email" required="required"
										pattern="([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?" title="Enter a valid email" />
									<input type="password" id="pass" placeholder="Password" required="required" pattern=".{6,}"
										title="Minimum 6 characters required" autocomplete="off" />
									<input type="submit" value="Sign Up" />
								</form>
								<div class="button-bottom">
									<p>Already have an account? <a href="#small-dialog" class="play-icon popup-with-zoom-anim">Login</a>
									</p>
								</div>
							</div>
							<div class="clearfix"> </div>
						</div>
						<div id="small-dialog7" class="mfp-hide">
							<h3>Create Account</h3>
							<div class="signup">
								<form action="upload.html">
									<input type="text" class="email" placeholder="Email" required="required"
										pattern="([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?" title="Enter a valid email" />
									<input type="password" placeholder="Password" required="required" pattern=".{6,}"
										title="Minimum 6 characters required" autocomplete="off" />
									<input type="submit" value="Sign In" />
								</form>
							</div>
							<div class="clearfix"> </div>
						</div>
						<script>
							$(document).ready(function () {
								$('.popup-with-zoom-anim').magnificPopup({
									type: 'inline',
									fixedContentPos: false,
									fixedBgPos: true,
									overflowY: 'auto',
									closeBtnInside: true,
									preloader: false,
									midClick: true,
									removalDelay: 300,
									mainClass: 'my-mfp-zoom-in'
								});
							});
						</script>
					</div>
					<div class="signin" id="login" style="visibility : hidden">
						<a href="#small-dialog" class="play-icon popup-with-zoom-anim">Login</a>
						<div id="small-dialog" class="mfp-hide">
							<h3>Login</h3>
							<div class="signup">
								<form onsubmit="login(); return false">
									<input type="text" class="email" id="cemail" placeholder="Enter email / mobile" required="required"
										pattern="([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?" />
									<input type="password" id="cpass" placeholder="Password" required="required" pattern=".{6,}"
										title="Minimum 6 characters required" autocomplete="off" />
									<input type="submit" value="LOGIN" />
								</form>
								<div class="button-bottom">
									<p>New account? <a href="#small-dialog3" class="play-icon popup-with-zoom-anim">Sign Up</a></p>
								</div>
							</div>
							<div class="clearfix"> </div>
						</div>
					</div>
					<div class="signin" id="logout">
						<a href="/Urba_des_SI/index.html" class="play-icon popup-with-zoom-anim" onclick="javascript:signout();">
							Logout
						</a>
					</div>
					<div class="clearfix"> </div>
				</div>
			</div>
			<div class="clearfix"> </div>
		</div>
	</nav>
	<div class="col-sm-3 col-md-2 sidebar">
		<div class="top-navigation">
			<div class="t-menu">MENU</div>
			<div class="t-img">
				<img src="images/lines.png" alt="" />
			</div>
			<div class="clearfix"> </div>
		</div>
		<div class="drop-navigation drop-navigation">
			<ul class="nav nav-sidebar">
				<li class="active">
					<a href="index.html" class="home-icon">
						<span class="glyphicon glyphicon-home" aria-hidden="true"></span>
						Home
					</a>
				</li>
				<li>
					<a href="playlist.html" id="playlistm" class="movie-icon" style="visibility : hidden">
						<span class="glyphicon glyphicon-film" aria-hidden="true"></span>
						My playlist
					</a>
				</li>
			</ul>
			<!-- script-for-menu -->
			<script>
				$(".top-navigation").click(function () {
					$(".drop-navigation").slideToggle(300, function () {
						// Animation complete.
					});
				});
			</script>
		</div>
		<img src="images/ad.png" alt="" class="ad">
	</div>
	<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
		<div class="main-grids">
			<div class="recommended" id="video_list_search">
				<div class="recommended-info">
					<h3>Recommended</h3>
				</div>
				<script>
					function display_videos_search() {
						total_num_video = 30;
						nbr_rows = Math.ceil(total_num_video / 4)
						for (let row = 0; row < nbr_rows; row++) {
							var completelist = document.getElementById("video_list_search");
							completelist.innerHTML += "<div class=\"recommended-grids\" id=\"row_" + row + "\">\n";
							let video_in_row;
							if ((row + 1) * 4 <= total_num_video) video_in_row = 4;
							else video_in_row = total_num_video % 4
							for (let video = 0; video < video_in_row; video++) {
								var completelist = document.getElementById("row_" + row);
								let nbr = row * 4 + video;
								completelist.innerHTML += "<div class=\"col-md-3 resent-grid recommended-grid\" id=\"video_" + nbr + "\">\n<div class=\"resent-grid-img recommended-grid-img\">\n<a class=\"popup-daily_motion\" href=\"https://www.dailymotion.com/video/x870wq7\"><img src=\"images/r1.jpg\" alt=\"\" id=\"thumb_" + nbr + "\" /></a>\n<img src=\"images/add_playlist.png\"  class=\"playlist_add\" onClick=\"javascript:whatever()\" id=\"btn_add_" + nbr + "\" />\n<div class=\"time small-time\">\n<p id=\"length_" + nbr + "\">2:34</p>\n</div>\n<div class=\"clck small-clck\">\n<span class=\"glyphicon glyphicon-time\" aria-hidden=\"true\"></span>\n</div>\n</div>\n<div class=\"resent-grid-info recommended-grid-info video-info-grid\">\n<h5><a class=\"popup-daily_motion title\" href=\"https://www.dailymotion.com/video/x870wq7\" id=\"title_" + nbr + "\">Varius sit sed viverra viverra nullam nullam interdum metus</a>\n</h5>\n<ul class=\"video_info_bot\">\n<li>\n<p class=\"author author-info\"><a href=\"#\" class=\"author\" id=\"author_" + nbr + "\">John Maniya</a></p>\n</li>\n<li class=\"right-list\">\n<p class=\"views views-info\" id=\"age_" + nbr + "\">2 years ago</p>\n</li>\n</ul>\n</div>\n</div>";
							}
							completelist.innerHTML += "<div class=\"clearfix\"> </div>";
						}
					}
					display_videos_search();
				</script>
			</div>
		</div>
		<!-- footer -->
		<div class="footer"></div>
		<!-- //footer -->
	</div>
	<div class="clearfix"> </div>
	<div class="drop-menu">
		<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu4">
			<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Regular link</a></li>
			<li role="presentation" class="disabled"><a role="menuitem" tabindex="-1" href="#">Disabled link</a></li>
			<li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another link</a></li>
		</ul>
	</div>
	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="js/bootstrap.min.js"></script>
	<script>
		async function getAll() {
			var keyword = document.getElementById("film").value;

			var vidata = new Array();

			//GETYT
			var url = 'https://content-youtube.googleapis.com/youtube/v3/search?part=snippet&q=' + keyword + '&key=AIzaSyDDg9GpIlU0yKRwkCX97Pji1PG4xg8Ou7E&maxResults=10';
			var obj = await (await fetch(url)).json();

			var i = 0;
			vidata["YTP"] = new Array();
			for (var video of obj["items"]) {
				vidata["YTP"][i] = new Array();
				
				vidata["YTP"][i]["link"] = "https://www.youtube.com/watch?v=" + video["id"]["videoId"];
				vidata["YTP"][i]["prev"] = video["snippet"]["thumbnails"]["high"]["url"];
				vidata["YTP"][i]["title"] = video["snippet"]["title"];
				document.getElementById("title_0").innerText = video["snippet"]["title"];
				vidata["YTP"][i]["chname"] = video["snippet"]["channelTitle"];
				vidata["YTP"][i]["age"] = (new Date().getFullYear() - parseInt(video["snippet"]["publishedAt"].substring(0, 4)));
				vidata["YTP"][i]["desc"] = video["snippet"]["description"];
				i++;
			}

			//GetVim
			var url = 'https://api.vimeo.com/videos?query=' + keyword + '&client_id=8e27e8883a3375968dc44d6cf7ccac05b1e6d94c&client_secret=J0td4NdiXHuLyeAc+vZOgJeMaYt4fg09E3jd/xUOYeDQa9P8kj+Yeoh/wGuV7Wgq0zAG8L18KwrnJFpY5EUyLYe6P2xDCzVhYt9HavOlcZjR9JhvguAJP1p186zqw7Ld&access_token=8368899522fa35fd825e92355b913d47&page=1&per_page=10&sort=relevant&direction=desc&filter=CC';
			var obj = await (await fetch(url)).json();

			i = 0;
			vidata["VIM"] = new Array();
			for (var video of obj["data"]) {
				vidata["VIM"][i] = new Array();

				vidata["VIM"][i]["link"] = video["link"];
				vidata["VIM"][i]["prev"] = video["pictures"]["base_link"];
				vidata["VIM"][i]["title"] = video["name"];
				vidata["VIM"][i]["chname"] = video["user"]["name"];
				vidata["VIM"][i]["age"] = (new Date().getFullYear() - parseInt(video["created_time"].substring(0, 4)));
				vidata["VIM"][i]["desc"] = video["description"];
				i++;
			}

			//GetDai
			var url = 'https://api.dailymotion.com/videos?fields=description,channel.name,id,thumbnail_url,title,created_time&search=' + keyword;
			var obj = await (await fetch(url)).json();

			i = 0;
			vidata["DAI"] = new Array();
			for (var video of obj["list"]) {
				vidata["DAI"][i] = new Array();

				vidata["DAI"][i]["link"] = "https://www.dailymotion.com/video/" + video["id"];
				vidata["DAI"][i]["prev"] = video["thumbnail_url"];
				vidata["DAI"][i]["title"] = video["title"];
				vidata["DAI"][i]["chname"] = video["channel.name"];
				vidata["DAI"][i]["age"] = (new Date().getFullYear() - new Date(video["created_time"] * 1000).getFullYear());
				vidata["DAI"][i]["desc"] = video["description"];
				i++;
			}
			console.log(vidata);
			
			return vidata;
		}
	</script>
	<script type="module">
		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.2/firebase-app.js";
		import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.6.2/firebase-auth.js";

		const firebaseConfig = {
			apiKey: "AIzaSyDLhwU3Gn6TlAWSL7EMQjIkVMwP-99RHHc",
			authDomain: "urbabdd.firebaseapp.com",
			databaseURL: "https://urbabdd-default-rtdb.firebaseio.com",
			projectId: "urbabdd",
			storageBucket: "urbabdd.appspot.com",
			messagingSenderId: "194220103248",
			appId: "1:194220103248:web:9fc7fb29b5b9e092ca6355"
		};

		const app = initializeApp(firebaseConfig);

		window.signup = function () {
			var email = document.getElementById("email").value;
			var pass = document.getElementById("pass").value;


			// Inscription
			const auth = getAuth();
			createUserWithEmailAndPassword(auth, email, pass)
				.then((userCredential) => {
					alert("Welcome to our website " + email + " !");
					const user = userCredential.user;
					document.getElementsByClassName("mfp-close")[0].click();
					// ...
				})
				.catch((error) => {
					const errorCode = error.code;
					const errorMessage = error.message;
					// ..
				});
		}

		window.login = function () {
			var cemail = document.getElementById("cemail").value;
			var cpass = document.getElementById("cpass").value;
			const auth = getAuth();
			signInWithEmailAndPassword(auth, cemail, cpass)
				.then((userCredential) => {
					const user = userCredential.user;
					window.localStorage.setItem('firebase:authUser', "");
					document.getElementById('signup').style.visibility = 'hidden';
					document.getElementById('login').style.visibility = 'hidden';
					document.getElementById('logout').style.visibility = '';
					document.getElementById('playlistm').style.visibility = '';
					alert("Logged in! ");
					document.getElementsByClassName("mfp-close")[0].click();
				})
				.catch((error) => {
					alert("Wrong credentials");
					const errorCode = error.code;
					const errorMessage = error.message;
				});
		}

		window.signout = function () {
		document.getElementById('signup').style.visibility = '';
		document.getElementById('login').style.visibility = '';
		document.getElementById('logout').style.visibility = 'hidden';
		document.getElementById('playlistm').style.visibility = 'hidden';
		window.localStorage.removeItem('firebase:authUser');
		window.indexedDB.deleteDatabase("firebaseLocalStorageDb");
			const auth = getAuth();
			signOut(auth).then(() => {
			alert("Sign-out successful !")
			}).catch((error) => {
				// An error happened.
			});
		}
window.chck = function()
{
	for (var key in localStorage)
	{
		if(key.includes("firebase:authUser"))
		{
			return true;
		}
		else
			return false;
	}
}

	</script>
	
</body>

</html>